// Cyclic redundancy checker (In case of errors n shit)
const TABLE = [
    0x00000000,
    0x77073096,
   -0x11F19ED4,
   -0x66F6AE46,
    0x076DC419,
    0x706AF48F,
   -0x169C5ACB,
   -0x619B6A5D,
    0x0EDB8832,
    0x79DCB8A4,
   -0x1F2A16E2,
   -0x682D2678,
    0x09B64C2B,
    0x7EB17CBD,
   -0x1847D2F9,
   -0x6F40E26F,
    0x1DB71064,
    0x6AB020F2,
   -0x0C468EB8,
   -0x7B41BE22,
    0x1ADAD47D,
    0x6DDDE4EB,
   -0x0B2B4AAF,
   -0x7C2C7A39,
    0x136C9856,
    0x646BA8C0,
   -0x029D0686,
   -0x759A3614,
    0x14015C4F,
    0x63066CD9,
   -0x05F0C29D,
   -0x72F7F20B,
    0x3B6E20C8,
    0x4C69105E,
   -0x2A9FBE1C,
   -0x5D988E8E,
    0x3C03E4D1,
    0x4B04D447,
   -0x2DF27A03,
   -0x5AF54A95,
    0x35B5A8FA,
    0x42B2986C,
   -0x2444362A,
   -0x534306C0,
    0x32D86CE3,
    0x45DF5C75,
   -0x2329F231,
   -0x542EC2A7,
    0x26D930AC,
    0x51DE003A,
   -0x3728AE80,
   -0x402F9EEA,
    0x21B4F4B5,
    0x56B3C423,
   -0x30456A67,
   -0x47425AF1,
    0x2802B89E,
    0x5F058808,
   -0x39F3264E,
   -0x4EF416DC,
    0x2F6F7C87,
    0x58684C11,
   -0x3E9EE255,
   -0x4999D2C3,
    0x76DC4190,
    0x01DB7106,
   -0x672DDF44,
   -0x102AEFD6,
    0x71B18589,
    0x06B6B51F,
   -0x60401B5B,
   -0x17472BCD,
    0x7807C9A2,
    0x0F00F934,
   -0x69F65772,
   -0x1EF167E8,
    0x7F6A0DBB,
    0x086D3D2D,
   -0x6E9B9369,
   -0x199CA3FF,
    0x6B6B51F4,
    0x1C6C6162,
   -0x7A9ACF28,
   -0x0D9DFFB2,
    0x6C0695ED,
    0x1B01A57B,
   -0x7DF70B3F,
   -0x0AF03BA9,
    0x65B0D9C6,
    0x12B7E950,
   -0x74414716,
   -0x03467784,
    0x62DD1DDF,
    0x15DA2D49,
   -0x732C830D,
   -0x042BB39B,
    0x4DB26158,
    0x3AB551CE,
   -0x5C43FF8C,
   -0x2B44CF1E,
    0x4ADFA541,
    0x3DD895D7,
   -0x5B2E3B93,
   -0x2C290B05,
    0x4369E96A,
    0x346ED9FC,
   -0x529877BA,
   -0x259F4730,
    0x44042D73,
    0x33031DE5,
   -0x55F5B3A1,
   -0x22F28337,
    0x5005713C,
    0x270241AA,
   -0x41F4EFF0,
   -0x36F3DF7A,
    0x5768B525,
    0x206F85B3,
   -0x46992BF7,
   -0x319E1B61,
    0x5EDEF90E,
    0x29D9C998,
   -0x4F2F67DE,
   -0x3828574C,
    0x59B33D17,
    0x2EB40D81,
   -0x4842A3C5,
   -0x3F459353,
   -0x12477CE0,
   -0x65404C4A,
    0x03B6E20C,
    0x74B1D29A,
   -0x152AB8C7,
   -0x622D8851,
    0x04DB2615,
    0x73DC1683,
   -0x1C9CF4EE,
   -0x6B9BC47C,
    0x0D6D6A3E,
    0x7A6A5AA8,
   -0x1BF130F5,
   -0x6CF60063,
    0x0A00AE27,
    0x7D079EB1,
   -0x0FF06CBC,
   -0x78F75C2E,
    0x1E01F268,
    0x6906C2FE,
   -0x089DA8A3,
   -0x7F9A9835,
    0x196C3671,
    0x6E6B06E7,
   -0x012BE48A,
   -0x762CD420,
    0x10DA7A5A,
    0x67DD4ACC,
   -0x06462091,
   -0x71411007,
    0x17B7BE43,
    0x60B08ED5,
   -0x29295C18,
   -0x5E2E6C82,
    0x38D8C2C4,
    0x4FDFF252,
   -0x2E44980F,
   -0x5943A899,
    0x3FB506DD,
    0x48B2364B,
   -0x27F2D426,
   -0x50F5E4B4,
    0x36034AF6,
    0x41047A60,
   -0x209F103D,
   -0x579820AB,
    0x316E8EEF,
    0x4669BE79,
   -0x349E4C74,
   -0x43997CE6,
    0x256FD2A0,
    0x5268E236,
   -0x33F3886B,
   -0x44F4B8FD,
    0x220216B9,
    0x5505262F,
   -0x3A45C442,
   -0x4D42F4D8,
    0x2BB45A92,
    0x5CB36A04,
   -0x3D280059,
   -0x4A2F30CF,
    0x2CD99E8B,
    0x5BDEAE1D,
   -0x649B3D50,
   -0x139C0DDA,
    0x756AA39C,
    0x026D930A,
   -0x63F6F957,
   -0x14F1C9C1,
    0x72076785,
    0x05005713,
   -0x6A40B57E,
   -0x1D4785EC,
    0x7BB12BAE,
    0x0CB61B38,
   -0x6D2D7165,
   -0x1A2A41F3,
    0x7CDCEFB7,
    0x0BDBDF21,
   -0x792C2D2C,
   -0x0E2B1DBE,
    0x68DDB3F8,
    0x1FDA836E,
   -0x7E41E933,
   -0x0946D9A5,
    0x6FB077E1,
    0x18B74777,
   -0x77F7A51A,
   -0x00F09590,
    0x66063BCA,
    0x11010B5C,
   -0x709A6101,
   -0x079D5197,
    0x616BFFD3,
    0x166CCF45,
   -0x5FF51D88,
   -0x28F22D12,
    0x4E048354,
    0x3903B3C2,
   -0x5898D99F,
   -0x2F9FE909,
    0x4969474D,
    0x3E6E77DB,
   -0x512E95B6,
   -0x2629A524,
    0x40DF0B66,
    0x37D83BF0,
   -0x564351AD,
   -0x2144613B,
    0x47B2CF7F,
    0x30B5FFE9,
   -0x42420DE4,
   -0x35453D76,
    0x53B39330,
    0x24B4A3A6,
   -0x452FC9FB,
   -0x3228F96D,
    0x54DE5729,
    0x23D967BF,
   -0x4C9985D2,
   -0x3B9EB548,
    0x5D681B02,
    0x2A6F2B94,
   -0x4BF441C9,
   -0x3CF3715F,
    0x5A05DF1B,
    0x04804B27
]

export function check(data: Buffer) {
    return data.reduce((a, x) => TABLE[(a ^ x) & 255] ^ (a >>> 8), -1) ^ -1;
}
